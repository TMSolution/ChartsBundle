<div class="mini-charts-item {{options.backgroundColorClass}}">
    <div class="clearfix">
        <div id="{{options.htmlContainerId}}" class="chart spark-chart-block"></div>
        <div class="count">
            <small>{{options.title}}</small>
            <h2>{{options.value}}</h2>
        </div>
    </div>
</div>

<script>

    var {{options.htmlContainerId}}Fn = function(){
        if ($('#{{options.htmlContainerId}}')[0]) {
          
            $('#{{options.htmlContainerId}}').sparkline({{options.data|raw}}, {
                type: 'pie',
                width: 45,
                height: 45,
                sliceColors: {{options.sliceColors|raw}},
                offset: 0,
                borderWidth: 0
            });
            
        }
    }    
    {% if app.request.isXmlHttpRequest() %}
        {{options.htmlContainerId}}Fn();
    {% else %}
    if (collector) {
        collector.addFunction({{options.htmlContainerId}}Fn);
    }
    {% endif %}
    
    
 
</script>
